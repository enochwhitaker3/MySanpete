@using Microsoft.AspNetCore.Authorization

@inject IUserVoucherService userVoucherService

@attribute [Authorize]

<h3>ViewUserVoucher</h3>

@if (selectedUserVoucher is not null)
{
    <div class="container">
        <div class="content">
            <div class="col-md-6">
                <h2>@selectedUserVoucher!.Voucher!.PromoName</h2>
                <p></p>
            </div>
        </div>
    </div>
}
else
{
    <p>This voucher doesn't exist anymore (or never existed at all!).</p>
    <p>View All Of Your Vouchers</p>
}

@code {
    [Parameter]
    public int voucherId { get; set; }

    public UserVoucherDTO? selectedUserVoucher { get; set; }

    protected override async Task OnInitializedAsync()
    {
        selectedUserVoucher = await userVoucherService.GetById(voucherId);
    }
}
