@inject NavigationManager NavMan


<div class="card m-2 rounded-3">
    <div class="d-flex flex-row">

        <div class="blogo d-flex align-items-center col-md img-square-wrapper rounded" style="padding: 0px;">

            <img class="business-logo"
                 style="height: 130px; width: 130px; border-radius: 65px; object-fit: cover; object-position: center; margin: 20px;"
                 src="Images/My_Sanpete.png" />
        </div>
        <div class="col-md card-body">
            <h2 class="d-grid card-title" style="max-height: 42px;">
                @thisBundle.Name
                @if (thisBundle.EndDate is not null)
                {
                    <span class="card-text">Good through @thisBundle.EndDate.Value.ToString("M/dd/yy")</span>
                }

            </h2>
            <!-- Button trigger modal -->
            <div class="button mt-15" @onclick="() => GoToPurchaseBundle(thisBundle.Id)">
                <div class="button-wrapper">
                    <div class="text">$@thisBundle.FinalPrice</div>
                    <span class="icon">
                        View
                    </span>
                </div>
            </div>
        </div>

    </div>
</div>

@code {
    [Parameter]
    public BundleDTO thisBundle { get; set; } = new();

    public void GoToPurchaseBundle(int id)
    {
        NavMan.NavigateTo($"/purchase-bundle/{id}", true);
    }
}